<script setup>
import ArticleHeader from '@/components/ArticleHeader.vue'
import ArticleBody from '@/components/ArticleBody.vue'

const post = {
  id: "springboot-rest-api",
  title: "Spring Boot REST API 설계와 예제",
  date: "2026-02-11",
  summary: "RESTful API 설계 원칙, Spring Web MVC 컨트롤러, Bean Validation, Global 예외 처리까지 실전 예제로 정리합니다.",
  category: "Technology/SpringBoot",
  tags: ["springboot","rest","api","validation","backend"],
  content: ["## Spring Boot로 REST API 만들기", "Spring Boot는 `spring-boot-starter-web`만 추가하면 바로 REST API를 구현할 수 있습니다. 컨트롤러, DTO, Validation, 예외 처리를 하나의 흐름으로 정리합니다.", "", "## 1) 프로젝트 설정", "`pom.xml` 또는 `build.gradle`에 의존성을 추가합니다.", "", "```xml", "<!-- Maven -->", "<dependency>", "    <groupId>org.springframework.boot</groupId>", "    <artifactId>spring-boot-starter-web</artifactId>", "</dependency>", "<dependency>", "    <groupId>org.springframework.boot</groupId>", "    <artifactId>spring-boot-starter-validation</artifactId>", "</dependency>", "```", "", "```groovy", "// Gradle", "implementation 'org.springframework.boot:spring-boot-starter-web'", "implementation 'org.springframework.boot:spring-boot-starter-validation'", "```", "", "## 2) DTO와 Validation", "요청/응답 DTO에 Bean Validation을 적용합니다.", "", "```java", "// 요청 DTO", "public record CreateUserRequest(", "    @NotBlank(message = \"이름은 필수입니다\")", "    @Size(min = 2, max = 50)", "    String name,", "", "    @NotBlank @Email", "    String email,", "", "    @Min(0) @Max(150)", "    Integer age", ") {}", "", "// 응답 DTO", "public record UserResponse(", "    Long id,", "    String name,", "    String email,", "    Integer age", ") {}", "```", "", "## 3) Controller 예제", "```java", "@RestController", "@RequestMapping(\"/api/users\")", "public class UserController {", "    private final UserService userService;", "", "    @GetMapping", "    public List<UserResponse> list(@RequestParam(defaultValue = \"0\") int page) {", "        return userService.findAll(page);", "    }", "", "    @GetMapping(\"/{id}\")", "    public UserResponse get(@PathVariable Long id) {", "        return userService.findById(id);", "    }", "", "    @PostMapping", "    @ResponseStatus(HttpStatus.CREATED)", "    public UserResponse create(@Valid @RequestBody CreateUserRequest req) {", "        return userService.create(req);", "    }", "", "    @PutMapping(\"/{id}\")", "    public UserResponse update(@PathVariable Long id, @Valid @RequestBody UpdateUserRequest req) {", "        return userService.update(id, req);", "    }", "", "    @DeleteMapping(\"/{id}\")", "    @ResponseStatus(HttpStatus.NO_CONTENT)", "    public void delete(@PathVariable Long id) {", "        userService.delete(id);", "    }", "}", "```", "", "## 4) Global 예외 처리(@ControllerAdvice)", "Validation 오류, 404 등 공통 예외를 한 곳에서 처리합니다.", "", "```java", "@RestControllerAdvice", "public class GlobalExceptionHandler {", "    @ExceptionHandler(MethodArgumentNotValidException.class)", "    public ResponseEntity<ErrorResponse> handleValidation(", "            MethodArgumentNotValidException ex) {", "        Map<String, String> errors = new HashMap<>();", "        ex.getBindingResult().getFieldErrors().forEach(e ->", "            errors.put(e.getField(), e.getDefaultMessage()));", "        return ResponseEntity.badRequest()", "            .body(new ErrorResponse(\"VALIDATION_ERROR\", errors));", "    }", "", "    @ExceptionHandler(EntityNotFoundException.class)", "    public ResponseEntity<ErrorResponse> handleNotFound(", "            EntityNotFoundException ex) {", "        return ResponseEntity.status(HttpStatus.NOT_FOUND)", "            .body(new ErrorResponse(\"NOT_FOUND\", ex.getMessage()));", "    }", "}", "```", "", "## 5) REST 설계 팁", "- HTTP 메서드: GET(조회), POST(생성), PUT/PATCH(수정), DELETE(삭제)", "- URL: 리소스 중심 (`/api/users`, `/api/users/1`)", "- 상태 코드: 200/201/204/400/404/500 적절히 사용", "- 버전 관리: `/api/v1/users` 또는 헤더 `Accept: application/vnd.api+json;version=1`", "", "## 정리", "Spring Boot REST API는 Controller + DTO + Validation + @ControllerAdvice 조합으로 깔끔하게 구성할 수 있습니다. 실무에서는 SpringDoc OpenAPI(Swagger)로 문서화까지 함께 적용하면 좋습니다."]
}
</script>

<template>
  <ArticleHeader :post="post" />
  <ArticleBody :content="post.content" />
</template>
