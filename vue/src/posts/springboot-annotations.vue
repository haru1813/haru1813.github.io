<script setup>
import ArticleHeader from '@/components/ArticleHeader.vue'
import ArticleBody from '@/components/ArticleBody.vue'

const post = {
  id: "springboot-annotations",
  title: "Spring Boot 핵심 어노테이션 정리",
  date: "2026-02-11",
  summary: "Spring Boot에서 자주 사용하는 어노테이션을 카테고리별로 정리합니다. @SpringBootApplication, @Component, @RestController, @Transactional, @Valid 등 실전 예제와 함께 설명합니다.",
  category: "Technology/SpringBoot",
  tags: ["springboot","annotation","java","backend"],
  content: ["## Spring Boot 어노테이션 개요", "Spring Boot/Spring Framework에서 어노테이션은 선언적으로 동작을 지정하는 핵심 수단입니다. 용도별로 분류해서 정리합니다.", "", "## 1) Spring Boot 진입점", "", "### @SpringBootApplication", "메인 클래스에 붙이며, 다음 3가지를 합친 것입니다.", "- `@Configuration`: 설정 클래스로 인식", "- `@EnableAutoConfiguration`: 자동 설정 활성화(DataSource, Jackson 등)", "- `@ComponentScan`: 현재 패키지 하위에서 `@Component` 스캔", "", "```java", "@SpringBootApplication", "public class MyApplication {", "    public static void main(String[] args) {", "        SpringApplication.run(MyApplication.class, args);", "    }", "}", "```", "", "## 2) 컴포넌트 스캔 (Bean 등록)", "| 어노테이션 | 용도 | 스테레오타입 |", "|------------|------|--------------|", "| @Component | 범용 Bean | 최상위 |", "| @Service | 비즈니스 로직 | @Component |", "| @Repository | 데이터 접근(JPA, JDBC) | @Component |", "| @Controller | MVC 컨트롤러, 뷰 반환 | @Component |", "| @RestController | REST API, @Controller + @ResponseBody | @Component |", "", "```java", "@Service", "public class UserService {", "    private final UserRepository userRepo;", "    public UserService(UserRepository userRepo) { this.userRepo = userRepo; }", "}", "", "@Repository", "public interface UserRepository extends JpaRepository<User, Long> {}", "", "@RestController", "@RequestMapping(\"/api/users\")", "public class UserController {", "    private final UserService userService;", "    public UserController(UserService userService) { this.userService = userService; }", "}", "```", "", "## 3) 의존성 주입 (DI)", "", "### @Autowired", "생성자·필드·메서드에 적용. Spring 4.3+에서는 단일 생성자에 생략 가능.", "", "```java", "@Service", "public class OrderService {", "    private final PaymentClient paymentClient;", "    @Autowired  // 단일 생성자면 생략 가능", "    public OrderService(PaymentClient paymentClient) {", "        this.paymentClient = paymentClient;", "    }", "}", "```", "", "### @Qualifier", "동일 타입 Bean이 여러 개일 때 이름으로 지정.", "", "```java", "@Autowired", "@Qualifier(\"primaryDataSource\")", "private DataSource dataSource;", "```", "", "### @Value", "설정값·환경 변수 주입. SpEL 지원.", "", "```java", "@Value(\"${app.name:default-app}\")", "private String appName;", "", "@Value(\"${server.port}\")", "private int port;", "```", "", "## 4) Web / 요청 매핑", "", "| 어노테이션 | HTTP | 용도 |", "|------------|------|------|", "| @RequestMapping | all | 공통 경로 또는 메서드 지정 |", "| @GetMapping | GET | 조회 |", "| @PostMapping | POST | 생성 |", "| @PutMapping | PUT | 전체 수정 |", "| @PatchMapping | PATCH | 부분 수정 |", "| @DeleteMapping | DELETE | 삭제 |", "", "### 요청/응답 파라미터", "```java", "@GetMapping(\"/{id}\")", "public UserResponse get(", "    @PathVariable Long id,", "    @RequestParam(defaultValue = \"0\") int page,", "    @RequestHeader(\"X-Request-Id\") String requestId) {", "    return userService.findById(id);", "}", "", "@PostMapping", "public UserResponse create(@Valid @RequestBody CreateUserRequest req) {", "    return userService.create(req);", "}", "", "@ResponseStatus(HttpStatus.CREATED)", "public void create() {}", "```", "", "## 5) 설정·프로파일", "", "### @Configuration, @Bean", "```java", "@Configuration", "public class AppConfig {", "    @Bean", "    public RestTemplate restTemplate() {", "        return new RestTemplate();", "    }", "}", "```", "", "### @ConfigurationProperties", "```java", "@ConfigurationProperties(prefix = \"app.mail\")", "@Configuration", "public class MailProperties {", "    private String host;", "    private int port = 587;", "    // getters, setters", "}", "```", "", "### @Profile", "특정 프로파일에서만 Bean 활성화.", "", "```java", "@Configuration", "@Profile(\"prod\")", "public class ProdConfig { /* prod 전용 설정 */ }", "```", "", "## 6) JPA·트랜잭션", "", "### JPA 엔티티", "```java", "@Entity", "@Table(name = \"users\")", "public class User {", "    @Id", "    @GeneratedValue(strategy = GenerationType.IDENTITY)", "    private Long id;", "    @Column(nullable = false, length = 100)", "    private String name;", "    @CreatedDate", "    private LocalDateTime createdAt;", "}", "```", "", "### @Transactional", "메서드·클래스 단위 트랜잭션. `readOnly = true`로 읽기 전용 최적화 가능.", "", "```java", "@Transactional(readOnly = true)", "public User findById(Long id) { return userRepo.findById(id).orElseThrow(); }", "", "@Transactional", "public User create(CreateUserRequest req) {", "    User user = new User(req.name());", "    return userRepo.save(user);", "}", "```", "", "## 7) Validation", "", "### @Valid, @Validated", "- `@Valid`: 메서드 파라미터·필드에 Bean Validation 실행", "- `@Validated`: 클래스 레벨, `@Valid`를 지원하지 않는 곳(Groups 등)에 사용", "", "```java", "@PostMapping", "public UserResponse create(@Valid @RequestBody CreateUserRequest req) {", "    return userService.create(req);", "}", "", "// DTO", "public record CreateUserRequest(", "    @NotBlank(message = \"이름 필수\")", "    @Size(min = 2, max = 50)", "    String name,", "    @NotBlank @Email", "    String email,", "    @Min(0) @Max(150)", "    Integer age", ") {}", "```", "", "### 대표 Validation 어노테이션", "| 어노테이션 | 용도 |", "|------------|------|", "| @NotNull | null 불가 |", "| @NotBlank | null·빈 문자열·공백만 불가 |", "| @NotEmpty | null·빈 컬렉션 불가 |", "| @Size(min, max) | 길이·크기 제한 |", "| @Min, @Max | 숫자 범위 |", "| @Email | 이메일 형식 |", "| @Pattern(regexp) | 정규식 검증 |", "", "## 8) 예외 처리·AOP", "", "### @ControllerAdvice, @ExceptionHandler", "```java", "@RestControllerAdvice", "public class GlobalExceptionHandler {", "    @ExceptionHandler(MethodArgumentNotValidException.class)", "    public ResponseEntity<ErrorResponse> handleValidation(", "            MethodArgumentNotValidException ex) {", "        // Validation 오류 처리", "        return ResponseEntity.badRequest().body(...);", "    }", "    @ExceptionHandler(EntityNotFoundException.class)", "    public ResponseEntity<ErrorResponse> handleNotFound(", "            EntityNotFoundException ex) {", "        return ResponseEntity.status(404).body(...);", "    }", "}", "```", "", "### @Scheduled", "```java", "@Scheduled(fixedRate = 60000)  // 60초마다", "public void syncData() { /* ... */ }", "", "@Scheduled(cron = \"0 0 2 * * *\")  // 매일 02:00", "public void dailyJob() { /* ... */ }", "```", "", "### @Cacheable", "```java", "@Cacheable(value = \"users\", key = \"#id\")", "public User findById(Long id) {", "    return userRepo.findById(id).orElseThrow();", "}", "```", "", "## 9) 테스트", "| 어노테이션 | 용도 |", "|------------|------|", "| @SpringBootTest | 통합 테스트, 전체 컨텍스트 |", "| @WebMvcTest | Controller 슬라이스 |", "| @DataJpaTest | JPA/Repository 슬라이스 |", "| @MockBean | Mock Bean 등록 |", "", "## 정리", "Spring Boot 어노테이션은 크게 ① Bean 등록(@Component 계열), ② DI(@Autowired, @Value), ③ Web 매핑(@GetMapping 등), ④ 설정(@Configuration, @Bean), ⑤ JPA·트랜잭션(@Entity, @Transactional), ⑥ Validation(@Valid)으로 나눌 수 있습니다. 각 용도를 이해하면 코드 읽기와 작성이 수월해집니다."]
}
</script>

<template>
  <ArticleHeader :post="post" />
  <ArticleBody :content="post.content" />
</template>
