import{e as T,o as c,c as d,b as t,u as p,a as k,w as f,t as m,R as h,F as v,r as b,d as _,f as y,i as w,g as C,h as P,j as $,n as L,k as E}from"./index-C7pVnWha.js";import{c as M,f as S,r as B}from"./registry-yDBYhqkn.js";const A="/assets/profile-DICm4HhY.png",N={class:"sidebar","aria-label":"카테고리"},I={class:"profile-card"},V=["src"],j={class:"cat-box"},R={class:"cat-head"},F={class:"cat-root"},O={class:"cat-count"},z={class:"cat-label"},H={class:"cat-count"},W={class:"cat-items",role:"list"},q={class:"cat-label"},G={class:"cat-count"},J={__name:"Sidebar",props:{posts:{type:Array,default:()=>[]}},setup(n){const i=n;T();const a=y(()=>{const r=new Map;for(const e of i.posts){const s=e?.category?String(e.category):"";s&&r.set(s,(r.get(s)||0)+1)}return r});function u(r){const e=`${r}/`;let s=0;for(const[o,l]of a.value.entries())o.startsWith(e)&&(s+=l);return s}const g=[{name:"Domain",items:["Domain/회계","Domain/주식","Domain/경제","Domain/세금","Domain/부동산","Domain/금융","Domain/법","Domain/Theory"]},{name:"Coding",items:["Coding/JavaScript","Coding/Python","Coding/Maria DB","Coding/Theory"]},{name:"Technology",items:["Technology/Git","Technology/AI","Technology/Design-Pattern","Technology/SOLID","Technology/Android","Technology/SpringBoot","Technology/React","Technology/Docker","Technology/Vue.js","Technology/VS CODE","Technology/Node","Technology/eclipse","Technology/Linux"]},{name:"Daily Life",items:["Daily Life/Memo","Daily Life/Exercise","Daily Life/ETC","Daily Life/Bible"]}];return(r,e)=>(c(),d("aside",N,[t("div",I,[t("img",{class:"profile-img",src:p(A),alt:"프로필 이미지",width:"240",height:"240",onError:e[0]||(e[0]=s=>s.target.src="data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22%3E%3Crect fill=%22%23334%22 width=%22100%22 height=%22100%22/%3E%3Ctext x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 dy=%22.3em%22 fill=%22%2399a%22 font-size=%2224%22%3EH%3C/text%3E%3C/svg%3E")},null,40,V),e[4]||(e[4]=t("div",{class:"profile-meta"},[t("div",{class:"profile-name"},"haru1813"),t("div",{class:"profile-sub muted"},"dev blog")],-1))]),t("div",j,[t("div",R,[e[6]||(e[6]=t("span",null,"카테고리",-1)),t("button",{class:"icon-btn drawer-close mobile-only",type:"button","aria-label":"카테고리 닫기",title:"닫기",onClick:e[1]||(e[1]=s=>r.$emit("close"))},[...e[5]||(e[5]=[t("span",{class:"icon"},"×",-1)])])]),t("div",F,[k(p(h),{class:"cat-link",to:"/","exact-active-class":"router-link-active",onClick:e[2]||(e[2]=s=>r.$emit("close"))},{default:f(()=>[e[7]||(e[7]=t("span",{class:"cat-label"},"전체 보기",-1)),t("span",O,"("+m(n.posts.length)+")",1)]),_:1})]),(c(),d(v,null,b(g,s=>t("details",{key:s.name,class:"cat-group",open:""},[t("summary",null,[t("span",z,m(s.name),1),t("span",H,"("+m(u(s.name))+")",1)]),t("div",W,[(c(!0),d(v,null,b(s.items,o=>(c(),_(p(h),{key:o,class:"cat-link",to:"/category/"+p(M)(o),"active-class":"router-link-active",onClick:e[3]||(e[3]=l=>r.$emit("close"))},{default:f(()=>[t("span",q,m(o.split("/").pop()),1),t("span",G,"("+m(a.value.get(o)||0)+")",1)]),_:2},1032,["to"]))),128))])])),64))])]))}},Y={class:"layout"},K={class:"content"},nt={__name:"LayoutWithSidebar",props:{posts:{type:Array,default:()=>[]}},setup(n){const i=w("drawer",{close:()=>{}});return(a,u)=>(c(),d("div",Y,[t("button",{class:"drawer-scrim",type:"button","aria-label":"카테고리 닫기",onClick:u[0]||(u[0]=g=>p(i).close())}),k(J,{posts:n.posts,onClose:u[1]||(u[1]=g=>p(i).close())},null,8,["posts"]),t("section",K,[C(a.$slots,"default")])]))}},Q={class:"cat-post-title"},U={class:"cat-post-meta"},X={class:"muted small"},Z={class:"muted small"},tt={class:"cat-post-summary muted"},lt={__name:"PostCard",props:{post:{type:Object,required:!0}},setup(n){return(i,a)=>(c(),_(p(h),{class:"cat-post",to:"/post/"+n.post.id},{default:f(()=>[t("h3",Q,m(n.post.title||"제목 없음"),1),t("div",U,[t("span",X,m(p(S)(n.post.date||"")),1),a[0]||(a[0]=t("span",{class:"dot","aria-hidden":"true"},null,-1)),t("span",Z,"읽기 "+m(p(B)(n.post.content)),1)]),t("p",tt,m(n.post.summary||""),1)]),_:1},8,["to"]))}},et={class:"pagination","aria-label":"페이지네이션"},st=["aria-current","onClick"],it={__name:"Pagination",props:{items:{type:Array,default:()=>[]},perPage:{type:Number,default:10}},setup(n){const i=n,a=E(1),u=y(()=>Math.ceil(i.items.length/i.perPage)),g=y(()=>{const s=(a.value-1)*i.perPage;return i.items.slice(s,s+i.perPage)}),r=y(()=>{let o=Math.max(1,a.value-Math.floor(2.5)),l=Math.min(u.value,o+5-1);return l-o+1<5&&(o=Math.max(1,l-5+1)),Array.from({length:l-o+1},(D,x)=>o+x)});P(()=>i.items,()=>{a.value=1},{deep:!0});function e(s){a.value=Math.max(1,Math.min(s,u.value))}return(s,o)=>n.items.length>n.perPage?(c(),d(v,{key:0},[C(s.$slots,"default",{items:g.value}),t("nav",et,[a.value>1?(c(),d("button",{key:0,type:"button",class:"pagination-btn","aria-label":"이전 페이지",onClick:o[0]||(o[0]=l=>e(a.value-1))}," ← ")):$("",!0),(c(!0),d(v,null,b(r.value,l=>(c(),d("button",{key:l,type:"button",class:L(["pagination-btn",{active:l===a.value}]),"aria-current":l===a.value?"page":void 0,onClick:D=>e(l)},m(l),11,st))),128)),a.value<u.value?(c(),d("button",{key:1,type:"button",class:"pagination-btn","aria-label":"다음 페이지",onClick:o[1]||(o[1]=l=>e(a.value+1))}," → ")):$("",!0)])],64)):C(s.$slots,"default",{key:1,items:n.items})}};export{nt as _,it as a,lt as b};
