import{u as w,a as c,c as m,d as t,b as C,w as f,t as d,i as p,R as h,F as v,e as b,f as _,h as y,j as D,k as $,g as P,l as k,n as L,r as E}from"./index-DQAqRTq9.js";import{c as M,f as S,r as B}from"./helpers-DvH5YD8W.js";const A="/assets/image/profile.png",N={class:"sidebar","aria-label":"카테고리"},V={class:"profile-card"},j={class:"cat-box"},R={class:"cat-head"},F={class:"cat-root"},I={class:"cat-count"},O={class:"cat-label"},z={class:"cat-count"},W={class:"cat-items",role:"list"},q={class:"cat-label"},G={class:"cat-count"},H={__name:"Sidebar",props:{posts:{type:Array,default:()=>[]}},setup(n){const i=n;w();const a=y(()=>{const r=new Map;for(const e of i.posts){const s=e?.category?String(e.category):"";s&&r.set(s,(r.get(s)||0)+1)}return r});function u(r){const e=`${r}/`;let s=0;for(const[o,l]of a.value.entries())o.startsWith(e)&&(s+=l);return s}const g=[{name:"Coding",items:["Coding/JavaScript","Coding/Python","Coding/Maria DB","Coding/Theory"]},{name:"Technology",items:["Technology/Git","Technology/AI","Technology/Design-Pattern","Technology/SOLID","Technology/Android","Technology/SpringBoot","Technology/React","Technology/Docker","Technology/Vue.js","Technology/VS CODE","Technology/Node","Technology/eclipse","Technology/Linux"]},{name:"Daily Life",items:["Daily Life/Memo","Daily Life/Exercise","Daily Life/ETC","Daily Life/Bible"]}];return(r,e)=>(c(),m("aside",N,[t("div",V,[t("img",{class:"profile-img",src:A,alt:"프로필 이미지",width:"240",height:"240",onError:e[0]||(e[0]=s=>s.target.src="data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22%3E%3Crect fill=%22%23334%22 width=%22100%22 height=%22100%22/%3E%3Ctext x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 dy=%22.3em%22 fill=%22%2399a%22 font-size=%2224%22%3EH%3C/text%3E%3C/svg%3E")},null,32),e[4]||(e[4]=t("div",{class:"profile-meta"},[t("div",{class:"profile-name"},"haru1813"),t("div",{class:"profile-sub muted"},"dev blog")],-1))]),t("div",j,[t("div",R,[e[6]||(e[6]=t("span",null,"카테고리",-1)),t("button",{class:"icon-btn drawer-close mobile-only",type:"button","aria-label":"카테고리 닫기",title:"닫기",onClick:e[1]||(e[1]=s=>r.$emit("close"))},[...e[5]||(e[5]=[t("span",{class:"icon"},"×",-1)])])]),t("div",F,[C(p(h),{class:"cat-link",to:"/","exact-active-class":"router-link-active",onClick:e[2]||(e[2]=s=>r.$emit("close"))},{default:f(()=>[e[7]||(e[7]=t("span",{class:"cat-label"},"전체 보기",-1)),t("span",I,"("+d(n.posts.length)+")",1)]),_:1})]),(c(),m(v,null,b(g,s=>t("details",{key:s.name,class:"cat-group",open:""},[t("summary",null,[t("span",O,d(s.name),1),t("span",z,"("+d(u(s.name))+")",1)]),t("div",W,[(c(!0),m(v,null,b(s.items,o=>(c(),_(p(h),{key:o,class:"cat-link",to:"/category/"+p(M)(o),"active-class":"router-link-active",onClick:e[3]||(e[3]=l=>r.$emit("close"))},{default:f(()=>[t("span",q,d(o.split("/").pop()),1),t("span",G,"("+d(a.value.get(o)||0)+")",1)]),_:2},1032,["to"]))),128))])])),64))])]))}},J={class:"layout"},K={class:"content"},ot={__name:"LayoutWithSidebar",props:{posts:{type:Array,default:()=>[]}},setup(n){const i=D("drawer",{close:()=>{}});return(a,u)=>(c(),m("div",J,[t("button",{class:"drawer-scrim",type:"button","aria-label":"카테고리 닫기",onClick:u[0]||(u[0]=g=>p(i).close())}),C(H,{posts:n.posts,onClose:u[1]||(u[1]=g=>p(i).close())},null,8,["posts"]),t("section",K,[$(a.$slots,"default")])]))}},Q={class:"cat-post-title"},U={class:"cat-post-meta"},X={class:"muted small"},Y={class:"muted small"},Z={class:"cat-post-summary muted"},nt={__name:"PostCard",props:{post:{type:Object,required:!0}},setup(n){return(i,a)=>(c(),_(p(h),{class:"cat-post",to:"/post/"+n.post.id},{default:f(()=>[t("h3",Q,d(n.post.title||"제목 없음"),1),t("div",U,[t("span",X,d(p(S)(n.post.date||"")),1),a[0]||(a[0]=t("span",{class:"dot","aria-hidden":"true"},null,-1)),t("span",Y,"읽기 "+d(p(B)(n.post.content)),1)]),t("p",Z,d(n.post.summary||""),1)]),_:1},8,["to"]))}},tt={class:"pagination","aria-label":"페이지네이션"},et=["aria-current","onClick"],lt={__name:"Pagination",props:{items:{type:Array,default:()=>[]},perPage:{type:Number,default:10}},setup(n){const i=n,a=E(1),u=y(()=>Math.ceil(i.items.length/i.perPage)),g=y(()=>{const s=(a.value-1)*i.perPage;return i.items.slice(s,s+i.perPage)}),r=y(()=>{let o=Math.max(1,a.value-Math.floor(2.5)),l=Math.min(u.value,o+5-1);return l-o+1<5&&(o=Math.max(1,l-5+1)),Array.from({length:l-o+1},(x,T)=>o+T)});P(()=>i.items,()=>{a.value=1},{deep:!0});function e(s){a.value=Math.max(1,Math.min(s,u.value))}return(s,o)=>n.items.length>n.perPage?(c(),m(v,{key:0},[$(s.$slots,"default",{items:g.value}),t("nav",tt,[a.value>1?(c(),m("button",{key:0,type:"button",class:"pagination-btn","aria-label":"이전 페이지",onClick:o[0]||(o[0]=l=>e(a.value-1))}," ← ")):k("",!0),(c(!0),m(v,null,b(r.value,l=>(c(),m("button",{key:l,type:"button",class:L(["pagination-btn",{active:l===a.value}]),"aria-current":l===a.value?"page":void 0,onClick:x=>e(l)},d(l),11,et))),128)),a.value<u.value?(c(),m("button",{key:1,type:"button",class:"pagination-btn","aria-label":"다음 페이지",onClick:o[1]||(o[1]=l=>e(a.value+1))}," → ")):k("",!0)])],64)):$(s.$slots,"default",{key:1,items:n.items})}};export{ot as _,lt as a,nt as b};
